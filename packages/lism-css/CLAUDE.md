# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Common Development Commands

```bash
# Start development server
npm run dev

# Build everything (React components + CSS)
npm run build

# Build only React components
npm run build:vite

# Build only CSS files from SCSS
npm run build:css

# Lint SCSS/CSS files
npm run lint:style

# Preview production build
npm run preview
```

## Important Notes

- **Do not edit files in the `dist/` directory** - These are auto-generated by build commands
- All code modifications should be made to source files in `src/` and other directories
- Run build commands after making changes to see the effects in `dist/`

## Architecture Overview

### Component Structure Pattern

Each component follows this consistent structure:

```
components/ComponentName/
├── ComponentName.jsx    # Main React component
├── getProps.js         # Props processing logic
├── index.js           # Exports
├── style.scss         # Component-specific styles (optional)
└── script.js          # Client-side JavaScript (optional)
```

All components extend the base `Lism` component and use `getLismProps()` for prop processing.

### SCSS Architecture with CSS Layers

The styling system uses CSS `@layer` for predictable specificity:

- `reset` → `base` → `state` → `layout` → `dynamic` → `component` → `utility` → `props`

Two CSS outputs are generated:

- `all.css` - Modern browsers with `@layer` support
- `all_no_layer.css` - Legacy browsers without layers

### Props System

The framework converts React props to CSS classes and styles:

- Responsive props: `{base: '20', md: '40', lg: '60'}` (can also be written as array: `['20', null, '40', '60']`)
- Utility pattern: `-prop:value` (e.g., `-p:20`, `-bgc:base-2`)
- Special props: `hov` (hover states), `bd` (borders), `trs` (transition)
- CSS variables and design tokens are automatically resolved

### Build Process

1. **Vite** handles React component bundling with ES modules
2. **scss-builder.cjs** compiles SCSS files using Dart Sass + PostCSS
3. Multiple entry points are exposed via package.json exports

### Key Abstractions

- **getLismProps.js**: Core prop-to-CSS transformation logic
- **Token system**: Design tokens in `src/config/tokens.js`
- **Utility generation**: Dynamic utility class creation based on prop values
- **Breakpoint handling**: Responsive values processing in `getBpData.js`
